<?xml version="1.0" encoding="utf-8"?>
<Patch>

	<!-- ========== Add DefModExtension ========== -->

	<Operation Class="PatchOperationAddModExtension">
		<xpath>Defs/DamageDef[defName="DMSRC_FocusedBeam"]</xpath>
		<value>
			<li Class="CombatExtended.DamageDefExtensionCE">
				<harmOnlyOutsideLayers>true</harmOnlyOutsideLayers>
				<isAmbientDamage>true</isAmbientDamage>
			</li>
		</value>
	</Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/DamageDef[defName="DMSRC_FocusedBeam"]/defaultArmorPenetration</xpath>
    <value>
      <defaultArmorPenetration>0.75</defaultArmorPenetration>
    </value>
  </Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/DamageDef[defName="DMSRC_Firecracker"]/defaultArmorPenetration</xpath>
		<value>
			<defaultArmorPenetration>0.4</defaultArmorPenetration>
		</value>
	</Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/DamageDef[defName="DMSRC_BombTimed"]/defaultDamage</xpath>
    <value>
      <defaultDamage>75</defaultDamage>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/DamageDef[defName="DMSRC_BombTimed"]/defaultArmorPenetration</xpath>
    <value>
      <defaultArmorPenetration>40</defaultArmorPenetration>
    </value>
  </Operation>

  <Operation Class="PatchOperationAdd">
    <xpath>Defs/ThingDef[defName="DMSRC_TimedBombActive"]/comps/li[@Class="DMSRC.CompProperties_TimedBomb"]</xpath>
    <value>
      <armorPenetrationBase>40</armorPenetrationBase>
    </value>
  </Operation>

</Patch>