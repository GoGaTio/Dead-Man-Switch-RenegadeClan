<?xml version="1.0" encoding="utf-8"?>
<Defs>

  <ThingDef ParentName="BuildingBase" Name="DMSRC_Hole">
    <defName>DMSRC_MediumHole</defName>
    <label>facility dormer</label>
    <description>A structure flooring with a opened hole, commonly found in underground facilities.</description>
    <graphicData>
      <texPath>Things/Building/DMSRC_Hole5x5</texPath>
      <graphicClass>Graphic_Multi</graphicClass>
      <drawSize>(7,7)</drawSize>
      <drawOffset>(0,0,0)</drawOffset>
    </graphicData>
    <thingClass>Building</thingClass>
    <category>Building</category>
    <fillPercent>0</fillPercent>
    <rotatable>false</rotatable>
    <passability>Impassable</passability>
    <disableImpassableShotOverConfigError>true</disableImpassableShotOverConfigError>
    <size>(5,5)</size>
    <useHitPoints>false</useHitPoints>
    <selectable>true</selectable>
    <holdsRoof>true</holdsRoof>
    <building>
      <claimable>false</claimable>
      <repairable>false</repairable>
      <neverBuildable>true</neverBuildable>
      <isTargetable>false</isTargetable>
      <ai_neverTrashThis>true</ai_neverTrashThis>
      <deconstructible>false</deconstructible>
      <alwaysDeconstructible>false</alwaysDeconstructible>
    </building>
    <statBases>
      <Flammability>0</Flammability>
    </statBases>
  </ThingDef>

  <ThingDef ParentName="DMSRC_Hole">
    <defName>DMSRC_BigHole</defName>
    <graphicData>
      <texPath>Things/Building/DMSRC_Hole7x7</texPath>
      <drawSize>(9,9)</drawSize>
    </graphicData>
    <size>(7,7)</size>
  </ThingDef>

  <ThingDef ParentName="DMSRC_Hole">
    <defName>DMSRC_SmallHole</defName>
    <graphicData>
      <texPath>Things/Building/DMSRC_Hole3x3</texPath>
      <drawSize>(5,5)</drawSize>
    </graphicData>
    <size>(3,3)</size>
  </ThingDef>

  <ThingDef ParentName="DMSRC_Hole">
    <defName>DMSRC_FacilityEntrance</defName>
    <label>facility elevator platform</label>
    <description>An elevator platform which links to the facility below.</description>
    <graphicData>
      <texPath>Things/Building/DMSRC_FacilityEntrance</texPath>
      <drawSize>(5,5)</drawSize>
    </graphicData>
    <passability>PassThroughOnly</passability>
    <pathCost>50</pathCost>
    <size>(3,3)</size>
    <thingClass>DMSRC.FacilityEntrance</thingClass>
    <rotatable>false</rotatable>
    <tickerType>Normal</tickerType>
    <portal>
      <pocketMapGenerator>DMSRC_UndergroundFacility</pocketMapGenerator>
      <exitDef>DMSRC_SmallHole_Exit</exitDef>
      <pocketMapSize>200</pocketMapSize>
    </portal>
    <inspectorTabs>
      <li>ITab_ContentsMapPortal</li>
    </inspectorTabs>
  </ThingDef>

  <ThingDef ParentName="PocketMapExit">
    <defName>DMSRC_SmallHole_Exit</defName>
    <label>facility elevator platform</label>
    <description>An elevator platform which links to the surface above.</description>
    <size>(3,3)</size>
    <passability>PassThroughOnly</passability>
    <pathCost>50</pathCost>
    <rotatable>false</rotatable>
    <graphicData>
      <graphicClass>Graphic_Single</graphicClass>
      <texPath>Things/Building/DMSRC_FacilityEntrance</texPath>
      <drawSize>(5,5)</drawSize>
    </graphicData>
  </ThingDef>

  <ThingDef ParentName="DMS_BossCallerBase">
    <defName>DMSRC_DecoyDish</defName>
    <label>decoy dish</label>
    <description>A modified radio dish which is rigged to send a high power burst transmission. Once activated it puts out a powerful decoy signal which will attract a feral group of automatroid forces to attack your colony. If you can defeat them, you can collect the advanced technology from their corpses. The signal pulse burns out the transmitter, so this building can only be used once.</description>
    <graphicData>
      <texPath>Things/Building/DMSRC_DecoyDish</texPath>
      <graphicClass>Graphic_Multi</graphicClass>
      <drawSize>(3,3)</drawSize>
      <shadowData>
        <volume>(1.7, 0.75, 0.8)</volume>
        <offset>(0.15, 0, 0)</offset>
      </shadowData>
    </graphicData>
    <uiIconScale>0.5</uiIconScale>
    <size>(1,1)</size>
    <costList>
      <Tungsteel>20</Tungsteel>
      <ComponentIndustrial>3</ComponentIndustrial>
      <ComponentStamped>2</ComponentStamped>
    </costList>
    <researchPrerequisites>
      <li>DMS_DeadMansSwitch</li>
    </researchPrerequisites>
    <comps>
      <li Class="CompProperties_Usable">
        <useJob>TriggerObject</useJob>
        <useLabel>Attract focus threat</useLabel>
        <useDuration>900</useDuration>
        <floatMenuFactionIcon>DMS_Legacy</floatMenuFactionIcon>
      </li>
      <li Class="DMS.CompPropertiesUseable_SummonRaid">
        <bossgroupDef>DMSRC_Focus</bossgroupDef>
        <effecterDef>BurnoutMechlinkBoosterUsed</effecterDef>
      </li>
      <li Class="CompProperties_UseEffectDestroySelf">
        <delayTicks>120</delayTicks>
        <spawnKilledLeavings>true</spawnKilledLeavings>
        <effecterDef>MechbandBuildingDestroyed</effecterDef>
      </li>
    </comps>
  </ThingDef>

  <ThingDef ParentName="BuildingBase">
    <defName>DMSRC_TimedBombActive</defName>
    <label>timed bomb</label>
    <description>An explosive device with adjustable timer. Causes destruction of anything in a small area if damaged or timer runs out.\n\nCan be defused to stop timer and prevent detonation.</description>
    <thingClass>Building</thingClass>
    <graphicData>
      <graphicClass>Graphic_Single</graphicClass>
      <texPath>Things/Building/DMSRC_TimedBomb</texPath>
      <drawSize>(1, 1)</drawSize>
    </graphicData>
    <size>(1,1)</size>
    <pathCost>15</pathCost>
    <castEdgeShadows>false</castEdgeShadows>
    <fillPercent>0.15</fillPercent>
    <receivesSignals>true</receivesSignals>
    <tickerType>Normal</tickerType>
    <drawerType>MapMeshAndRealTime</drawerType>
    <canOverlapZones>false</canOverlapZones>
    <building>
      <ai_chillDestination>true</ai_chillDestination>
      <paintable>false</paintable>
      <ai_neverTrashThis>true</ai_neverTrashThis>
      <claimable>true</claimable>
      <expandHomeArea>false</expandHomeArea>
    </building>
    <costList>
      <Tungsteel>20</Tungsteel>
      <Polyester>50</Polyester>
      <ComponentStamped>2</ComponentStamped>
      <Shell_HighExplosive>10</Shell_HighExplosive>
    </costList>
    <leaveResourcesWhenKilled>false</leaveResourcesWhenKilled>
    <statBases>
      <WorkToBuild>100</WorkToBuild>
      <MaxHitPoints>100</MaxHitPoints>
      <Flammability>0</Flammability>
      <Beauty>0</Beauty>
    </statBases>
    <altitudeLayer>Building</altitudeLayer>
    <passability>PassThroughOnly</passability>
    <terrainAffordanceNeeded>Light</terrainAffordanceNeeded>
    <staticSunShadowHeight>0.1</staticSunShadowHeight>
    <drawHighlight>true</drawHighlight>
    <preventGravshipLandingOn>true</preventGravshipLandingOn>
    <comps>
      <li Class="CompProperties_Hackable">
        <defence>600</defence>
        <effectHacking>HackingTerminal</effectHacking>
        <hackedInspectString>Defused.</hackedInspectString>
        <showProgressAfterHackCompletion>false</showProgressAfterHackCompletion>
        <hackedMessage>{HACKER_labelShort} has defused {SUBJECT_labelNoParenthesisDef}.</hackedMessage>
        <intellectualSkillPrerequisite>4</intellectualSkillPrerequisite>
      </li>
      <li Class="DMSRC.CompProperties_TimedBomb">
        <chanceToStartFire>0.7</chanceToStartFire>
        <explosiveRadius>6.9</explosiveRadius>
        <explosiveDamageType>DMSRC_BombTimed</explosiveDamageType>
        <damageAmountBase>100</damageAmountBase>
        <offset>(-0.125,0,0.25)</offset>
        <emissionIntervalCurve>
          <points>
            <li>0, 1</li>
            <li>90, 10</li>
            <li>120, 20</li>
            <li>600, 70</li>
            <li>2500, 400</li>
            <li>10000, 600</li>
          </points>
        </emissionIntervalCurve>
        <defenceFactorRange>5~10</defenceFactorRange>
        <fleck>DMSRC_TimedBombFlash</fleck>
        <soundOnEmission>DMSRC_Beep</soundOnEmission>
      </li>
    </comps>
  </ThingDef>

</Defs>