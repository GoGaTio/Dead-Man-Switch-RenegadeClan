<?xml version="1.0" encoding="utf-8" ?>
<Defs>

  <ThingDef>
    <defName>DMSRC_InactiveMech</defName>
    <label>inactive automatroid</label>
    <description>A chunk of a spacecraft. It seems to have been torn off either by uncontrolled re-entry forces or some kind of weapon.\n\nHaving landed not long ago, it still contains useful resources which you can acquire by deconstructing it.</description>
    <category>Building</category>
    <thingClass>DMSRC.InactiveMech</thingClass>
    <altitudeLayer>Pawn</altitudeLayer>
    <pathCost>42</pathCost>
    <blockWind>false</blockWind>
    <passability>PassThroughOnly</passability>
    <fillPercent>0.50</fillPercent>
<receivesSignals>true</receivesSignals>
    <size>(1,1)</size>
    <statBases>
      <MaxHitPoints>100</MaxHitPoints>
      <Flammability>0</Flammability>
      <Beauty>0</Beauty>
    </statBases>
    <building>
      <claimable>false</claimable>
      <repairable>false</repairable>
      <deconstructible>false</deconstructible>
    </building>
    <soundImpactDefault>BulletImpact_Metal</soundImpactDefault>
    <selectable>true</selectable>
    <leaveResourcesWhenKilled>false</leaveResourcesWhenKilled>
    <filthLeaving>Filth_RubbleBuilding</filthLeaving>
    <soundImpactDefault>BulletImpact_Metal</soundImpactDefault>
    <drawerType>RealtimeOnly</drawerType>
    <comps>
      <li Class="CompProperties_InspectString">
        <inspectString>Deconstruct for valuable resources.</inspectString>
      </li>
    </comps>
  </ThingDef>

  <ThingDef ParentName="BuildingBase">
    <defName>DMSRC_WarheadPlatform</defName>
    <label>warhead platform</label>
    <description>Ultra-large computing core for large-scale command of mechs, It is a technology introduced by the colonial fleet while passing through a Glittering World.</description>
    <graphicData>
      <texPath>Things/Building/DMSRC_WarheadPlatform_Empty</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>(2,2)</drawSize>
    </graphicData>
    <size>(2,2)</size>
    <tickerType>Normal</tickerType>
    <drawerType>MapMeshAndRealTime</drawerType>
    <altitudeLayer>Building</altitudeLayer>
    <passability>PassThroughOnly</passability>
    <blockWind>true</blockWind>
    <castEdgeShadows>true</castEdgeShadows>
    <canOverlapZones>false</canOverlapZones>
    <fillPercent>0.3</fillPercent>
    <rotatable>false</rotatable>
<leaveResourcesWhenKilled>false</leaveResourcesWhenKilled>
<receivesSignals>true</receivesSignals>
    <statBases>
      <MaxHitPoints>100</MaxHitPoints>
      <Flammability>0</Flammability>
    </statBases>
    <terrainAffordanceNeeded>Light</terrainAffordanceNeeded>
    <building>
      <artificialForMeditationPurposes>true</artificialForMeditationPurposes>
      <ai_chillDestination>false</ai_chillDestination>
      <destroySound>BuildingDestroyed_Metal_Big</destroySound>
      <buildingTags>
        <li>DMSRC_Quest</li>
      </buildingTags>
    </building>
    <comps>
      <li Class="DMSRC.CompProperties_WarheadPlatform">
        <chanceToStartFire>0.7</chanceToStartFire>
        <explosiveRadius>44.9</explosiveRadius>
        <explosiveDamageType>DMSRC_BombTimed</explosiveDamageType>
        <damageAmountBase>999</damageAmountBase>
        <armorPenetrationBase>999</armorPenetrationBase>
        <chanceNeverExplodeFromDamage>1</chanceNeverExplodeFromDamage>
        <graphicData>
          <texPath>Things/Building/DMSRC_WarheadPlatform</texPath>
          <graphicClass>Graphic_Single</graphicClass>
          <drawSize>(2,2)</drawSize>
        </graphicData>
      </li>
    </comps>
  </ThingDef>

  <ThingDef ParentName="BuildingBase">
    <defName>DMSRC_PowerTransmitter</defName>
    <label>power network node</label>
    <description></description>
    <graphicData>
      <texPath>Things/Building/DMSRC_PowerTransmitter</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>(2,2)</drawSize>
    </graphicData>
    <size>(1,1)</size>
    <tickerType>Normal</tickerType>
    <drawerType>MapMeshAndRealTime</drawerType>
    <altitudeLayer>Building</altitudeLayer>
    <passability>PassThroughOnly</passability>
    <blockWind>true</blockWind>
    <castEdgeShadows>true</castEdgeShadows>
    <canOverlapZones>false</canOverlapZones>
    <fillPercent>0.5</fillPercent>
    <rotatable>false</rotatable>
    <statBases>
      <MaxHitPoints>1000</MaxHitPoints>
      <Flammability>0</Flammability>
    </statBases>
    <terrainAffordanceNeeded>Light</terrainAffordanceNeeded>
    <building>
      <artificialForMeditationPurposes>true</artificialForMeditationPurposes>
      <ai_chillDestination>true</ai_chillDestination>
      <destroySound>BuildingDestroyed_Metal_Big</destroySound>
      <isInert>true</isInert>
      <claimable>false</claimable>
      <buildingTags>
        <li>DMSRC_Quest</li>
      </buildingTags>
    </building>
    <comps>
      <li Class="CompProperties_Power">
        <compClass>CompPowerPlantSteam</compClass>
        <basePowerConsumption>-5000</basePowerConsumption>
        <transmitsPower>true</transmitsPower>
      </li>
      <li Class="CompProperties_AmbientSound">
        <sound>GeothermalPlant_Ambience</sound>
        <disabledOnUnpowered>true</disabledOnUnpowered>
      </li>
    </comps>
  </ThingDef>

  <ThingDef ParentName="BuildingBase">
    <defName>DMSRC_LargeBroadcastAntenna</defName>
    <label>large broadcast antenna</label>
    <description>Ultra-large broadcast antenna for planetary communication. Allows to control mechanoids over the world from well-defended command center.</description>
    <thingClass>Building</thingClass>
    <graphicData>
      <texPath>Things/Building/DMSRC_LargeBroadcastAntenna</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>(10,10)</drawSize>
      <shadowData>
        <volume>(5.03,1.0,4.25)</volume>
        <offset>(0,0,-0.25)</offset>
      </shadowData>
      <damageData>
        <cornerTL>Damage/Corner</cornerTL>
        <cornerTR>Damage/Corner</cornerTR>
        <cornerBL>Damage/Corner</cornerBL>
        <cornerBR>Damage/Corner</cornerBR>
      </damageData>
    </graphicData>
    <size>(5,5)</size>
    <tickerType>Normal</tickerType>
    <drawerType>MapMeshAndRealTime</drawerType>
    <altitudeLayer>Building</altitudeLayer>
    <passability>Impassable</passability>
    <blockWind>true</blockWind>
    <castEdgeShadows>true</castEdgeShadows>
    <canOverlapZones>false</canOverlapZones>
    <fillPercent>1</fillPercent>
    <rotatable>false</rotatable>
<receivesSignals>true</receivesSignals>
<leaveResourcesWhenKilled>false</leaveResourcesWhenKilled>
    <statBases>
      <MaxHitPoints>3000</MaxHitPoints>
      <Flammability>0</Flammability>
      <WorkToBuild>60000</WorkToBuild>
    </statBases>
    <costList>
      <Steel>600</Steel>
      <Tungsteel>200</Tungsteel>
      <ComponentStamped>20</ComponentStamped>
      <ComponentIndustrial>15</ComponentIndustrial>
      <ComponentTransmitter>5</ComponentTransmitter> <ComponentSpacer>5</ComponentSpacer>
    </costList>
<killedLeavings>
      <ChunkSlagSteel>8</ChunkSlagSteel>
      <Steel>100</Steel>
      <Tungsteel>40</Tungsteel>
      <ComponentStamped>7</ComponentStamped>
      <ComponentIndustrial>5</ComponentIndustrial>
      <ComponentTransmitter>1</ComponentTransmitter>
      <ComponentSpacer>1</ComponentSpacer>
    </killedLeavings>
    <terrainAffordanceNeeded>Heavy</terrainAffordanceNeeded>
    <building>
      <artificialForMeditationPurposes>true</artificialForMeditationPurposes>
      <ai_chillDestination>false</ai_chillDestination>
      <claimable>false</claimable>
      <destroySound>BuildingDestroyed_Metal_Big</destroySound>
      <buildingTags>
        <li>DMSRC_Quest</li>
      </buildingTags>
    </building>
    <researchPrerequisites MayRequire="Ludeon.RimWorld.Royalty">
      <li>DMSRC_WideBroadcast</li>
    </researchPrerequisites>
    <designationCategory MayRequire="Ludeon.RimWorld.Royalty">DMS_Category</designationCategory>
    <uiOrder MayRequire="Ludeon.RimWorld.Royalty">4900</uiOrder>
    <placeWorkers>
      <li>PlaceWorker_NotUnderRoof</li>
      <li>PlaceWorker_InvalidOverSubstructure</li>
    </placeWorkers>
    <comps>
      <li Class="CompProperties_AmbientSound">
        <sound>GeothermalPlant_Ambience</sound>
      </li>
<li Class="DMSRC.CompProperties_BroadcastAntenna">
        <worldRange>10</worldRange>
      </li>
      <li Class="CompProperties_Power">
        <compClass>CompPowerTrader</compClass>
        <basePowerConsumption>5000</basePowerConsumption>
      </li>
      <!--CompProperties_BroadcastAntenna should go after CompProperties_Power-->
      
    </comps>
  </ThingDef>

  <ThingDef Abstract="True" Name="DMSRC_ContainerBase" ParentName="BuildingBase">
    <label>security container</label>
    <description>A hermetically-sealed armored container for preserving valuable items. Special security system will destroy any contents if container is destroyed or deconstucted.</description>
    <thingClass>DMSRC.Building_SecurityContainer</thingClass>
    <graphicData>
      <graphicClass>Graphic_Multi</graphicClass>
      <drawSize>(5, 5)</drawSize>
      <drawOffset>(0, 0, 0)</drawOffset>
      <damageData>
        <cornerTL>Damage/Corner</cornerTL>
        <cornerTR>Damage/Corner</cornerTR>
        <cornerBL>Damage/Corner</cornerBL>
        <cornerBR>Damage/Corner</cornerBR>
      </damageData>
    </graphicData>
    <size>(3,3)</size>
    <pathCost>65</pathCost>
    <hasInteractionCell>true</hasInteractionCell>
    <interactionCellOffset>(0,0,-2)</interactionCellOffset>
    <castEdgeShadows>true</castEdgeShadows>
    <fillPercent>0.6</fillPercent>
    <tickerType>Normal</tickerType>
    <drawerType>MapMeshAndRealTime</drawerType>
    <canOverlapZones>false</canOverlapZones>
    <building>
      <ai_chillDestination>true</ai_chillDestination>
      <paintable>false</paintable>
    </building>
    <statBases>
      <WorkToBuild>75000</WorkToBuild>
      <MaxHitPoints>1500</MaxHitPoints>
      <Flammability>0</Flammability>
      <Beauty>0</Beauty>
    </statBases>
    <inspectorTabs>
      <li>DMSRC.ITab_ContentsSecurityContainer</li>
    </inspectorTabs>
    <altitudeLayer>Building</altitudeLayer>
    <passability>PassThroughOnly</passability>
    <blockWind>true</blockWind>
    <terrainAffordanceNeeded>Light</terrainAffordanceNeeded>
    <staticSunShadowHeight>0.4</staticSunShadowHeight>
    <drawHighlight>true</drawHighlight>
    <preventGravshipLandingOn>true</preventGravshipLandingOn>
  </ThingDef>

  <ThingDef Abstract="True" ParentName="DMSRC_ContainerBase" Name="DMSRC_NaraContainerBase">
    <label>security container</label>
    <placeWorkers>
      <li>PlaceWorker_InvalidOverSubstructure</li>
    </placeWorkers>
    <comps>
      <li Class="CompProperties_Hackable">
        <defence>600</defence>
        <effectHacking>HackingTerminal</effectHacking>
        <lockoutDurationHoursRange>2~4</lockoutDurationHoursRange>
        <notHackedInspectString>Hack to open.</notHackedInspectString>
        <hackedInspectString>Opened.</hackedInspectString>
        <showProgressAfterHackCompletion>false</showProgressAfterHackCompletion>
        <hackedMessage>{HACKER_labelShort} has finished hacking {SUBJECT_labelNoParenthesisDef}.</hackedMessage>
        <intellectualSkillPrerequisite>4</intellectualSkillPrerequisite>
      </li>
      <li Class="DMSRC.CompProperties_SecurityContainer">
        <defaultLoot>DMSRC_SecurityContainer_Nara</defaultLoot>
        <faction>DMSRC_RenegadeClan</faction>
        <graphicData>
          <texPath>Things/Building/Containers/DMSRC_SecurityContainer/DMSRC_ContainerOpen</texPath>
          <graphicClass>Graphic_Multi</graphicClass>
          <drawSize>(5, 5)</drawSize>
        </graphicData>
        <defenceFactorRange>20~40</defenceFactorRange>
      </li>
    </comps>
  </ThingDef>

  <ThingDef ParentName="DMSRC_NaraContainerBase">
    <defName>DMSRC_SecurityContainer_NaraRed</defName>
    <graphicData>
      <texPath>Things/Building/Containers/DMSRC_SecurityContainer/DMSRC_ContainerNaraRed</texPath>
    </graphicData>
  </ThingDef>

  <ThingDef ParentName="DMSRC_NaraContainerBase">
    <defName>DMSRC_SecurityContainer_NaraBlue</defName>
    <graphicData>
      <texPath>Things/Building/Containers/DMSRC_SecurityContainer/DMSRC_ContainerNaraBlue</texPath>
    </graphicData>
  </ThingDef>

  <ThingDef ParentName="DMSRC_NaraContainerBase">
    <defName>DMSRC_SecurityContainer_NaraGreen</defName>
    <graphicData>
      <texPath>Things/Building/Containers/DMSRC_SecurityContainer/DMSRC_ContainerNaraGreen</texPath>
    </graphicData>
  </ThingDef>

  <ThingDef ParentName="DMSRC_ContainerBase">
    <defName>DMSRC_SecurityContainer_Renegades</defName>
    <graphicData>
      <texPath>Things/Building/Containers/DMSRC_SecurityContainer/DMSRC_ContainerRenegades</texPath>
    </graphicData>
    <comps>
      <li Class="DMSRC.CompProperties_SecurityContainer">
        <graphicData>
          <texPath>Things/Building/Containers/DMSRC_SecurityContainer/DMSRC_ContainerOpen</texPath>
          <graphicClass>Graphic_Multi</graphicClass>
          <drawSize>(5, 5)</drawSize>
        </graphicData>
      </li>
    </comps>
  </ThingDef>

</Defs>