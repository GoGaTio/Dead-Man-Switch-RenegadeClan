<?xml version="1.0" encoding="utf-8"?>
<Defs>

  <ThingDef ParentName="DMSRC_BasePersonaAutomatroid">
    <defName>DMSRC_Mech_Malevolence</defName>
    <label>malevolence</label>
    <description>A quadruped ultra heavy command automatroid. Malevolence have thick armor and can enhance nearby mechs with tactical instructions, but is not able to wield ultra heavy weapons.</description>
    <statBases>
      <MoveSpeed>3.7</MoveSpeed>
      <ArmorRating_Sharp>1.85</ArmorRating_Sharp>
      <ArmorRating_Blunt>1.3</ArmorRating_Blunt>
      <ArmorRating_Heat>2</ArmorRating_Heat>
      <StaggerDurationFactor>0</StaggerDurationFactor>
      <ShootingAccuracyPawn>10</ShootingAccuracyPawn>
      <BandwidthCost>9</BandwidthCost>
      <WastepacksPerRecharge>4</WastepacksPerRecharge>
    </statBases>
    <race>
      <body>DMSRC_Malevolence</body>
      <baseBodySize>3.5</baseBodySize>
      <baseHealthScale>5.5</baseHealthScale>
      <mechWeightClass>UltraHeavy</mechWeightClass>
      <detritusLeavings>
        <li>
          <def>DMS_ChunkSlag</def>
          <texOverrideIndex>7</texOverrideIndex>
          <spawnChance>0.4</spawnChance>
        </li>
        <li>
          <def>DMS_ChunkSlag</def>
          <texOverrideIndex>4</texOverrideIndex>
          <spawnChance>0.4</spawnChance>
        </li>
      </detritusLeavings>
    </race>
    <comps>
      <li Class="Fortified.CompProperties_VehicleWeapon">
        <drawData>
          <dataEast>
            <offset>(1,0,0)</offset>
          </dataEast>
          <dataWest>
            <offset>(-1,0,0)</offset>
            <layer>-20</layer>
          </dataWest>
          <dataSouth>
            <offset>(-0.4,0,0)</offset>
          </dataSouth>
          <dataNorth>
            <offset>(0.4,0,0)</offset>
            <layer>-20</layer>
          </dataNorth>
        </drawData>
        <turretRotationFollowPawn>true</turretRotationFollowPawn>
        <rotationSmoothTime>0.06</rotationSmoothTime>
      </li>
      <li Class="DMSRC.CompProperties_CompOverseerMech">
        <commandRange>39.9</commandRange>
        <controlGroups>4</controlGroups>
        <bandwidth>39</bandwidth>
        <instantControl>true</instantControl>
        <canRepair>false</canRepair>
        <selectOverseerIconPath>UI/Icons/DMSRC_SelectMalevolence</selectOverseerIconPath>
      </li>
    </comps>
    <tools Inherit="False">
      <li>
        <label>armored head</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>35</power>
        <cooldownTime>5.5</cooldownTime>
        <linkedBodyPartsGroup>HeadAttackTool</linkedBodyPartsGroup>
        <ensureLinkedBodyPartsGroupAlwaysUsable>true</ensureLinkedBodyPartsGroupAlwaysUsable>
        <chanceFactor>0.01</chanceFactor>
        <surpriseAttack>
          <extraMeleeDamages>
            <li>
              <def>Stun</def>
              <amount>20</amount>
            </li>
          </extraMeleeDamages>
        </surpriseAttack>
      </li>
      <li>
        <label>front left leg</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>32</power>
        <cooldownTime>3</cooldownTime>
        <linkedBodyPartsGroup>DMSRC_LeftArmoredLeg</linkedBodyPartsGroup>
        <chanceFactor>3</chanceFactor>
        <surpriseAttack>
          <extraMeleeDamages>
            <li>
              <def>Stun</def>
              <amount>16</amount>
            </li>
          </extraMeleeDamages>
        </surpriseAttack>
      </li>
      <li>
        <label>front right leg</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>32</power>
        <cooldownTime>3</cooldownTime>
        <linkedBodyPartsGroup>DMSRC_RightArmoredLeg</linkedBodyPartsGroup>
        <chanceFactor>3</chanceFactor>
        <surpriseAttack>
          <extraMeleeDamages>
            <li>
              <def>Stun</def>
              <amount>16</amount>
            </li>
          </extraMeleeDamages>
        </surpriseAttack>
      </li>
      <li>
        <label>rear left leg</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>32</power>
        <cooldownTime>3</cooldownTime>
        <linkedBodyPartsGroup>LeftMechanicalLeg</linkedBodyPartsGroup>
        <chanceFactor>3</chanceFactor>
        <surpriseAttack>
          <extraMeleeDamages>
            <li>
              <def>Stun</def>
              <amount>16</amount>
            </li>
          </extraMeleeDamages>
        </surpriseAttack>
      </li>
      <li>
        <label>rear right leg</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>32</power>
        <cooldownTime>3</cooldownTime>
        <linkedBodyPartsGroup>RightMechanicalLeg</linkedBodyPartsGroup>
        <chanceFactor>3</chanceFactor>
        <surpriseAttack>
          <extraMeleeDamages>
            <li>
              <def>Stun</def>
              <amount>16</amount>
            </li>
          </extraMeleeDamages>
        </surpriseAttack>
      </li>
    </tools>
    <damageMultipliers>
      <li>
        <damageDef>Blunt</damageDef>
        <multiplier>0.5</multiplier>
      </li>
      <li>
        <damageDef>Bomb</damageDef>
        <multiplier>0.5</multiplier>
      </li>
    </damageMultipliers>
    <butcherProducts>
      <Tungsteel>100</Tungsteel>
      <DMS_ChunkSlag>6</DMS_ChunkSlag>
      <ComponentStamped>4</ComponentStamped>
    </butcherProducts>
    <killedLeavingsPlayerHostile>
      <DMSRC_ProcessorCore>1</DMSRC_ProcessorCore>
    </killedLeavingsPlayerHostile>
    <castEdgeShadows>false</castEdgeShadows>
    <staticSunShadowHeight>0</staticSunShadowHeight>
    <modExtensions>
      <li Class="Fortified.MechWeaponExtension">
        <EnableWeaponFilter>true</EnableWeaponFilter>
        <UsableWeaponTags>
          <li>A_MG_GrenadeLauncher</li>
          <li>A_SR_GrenadeLauncher</li>
          <li>DMS_MechWeaponHeavy</li>
          <li>H_Gatling127mm</li>
          <li>H_Gatling20mm</li>
          <li>V_Gatling556mm</li>
          <li>DMS_Gun_Recoilless</li>
          <li MayRequire="vanillaexpanded.vwehw">HeavyGun</li>
        </UsableWeaponTags>
        <EnableTechLevelFilter>true</EnableTechLevelFilter>
        <UsableTechLevels>
          <li>Industrial</li>
        </UsableTechLevels>
      </li>
    </modExtensions>
  </ThingDef>

  <PawnKindDef ParentName="BaseAutomatroidKind">
    <defName>DMSRC_Mech_Malevolence</defName>
    <label>malevolence</label>
    <race>DMSRC_Mech_Malevolence</race>
    <isFighter>true</isFighter>
    <combatPower>375</combatPower>
    <maxPerGroup>1</maxPerGroup>
    <isBoss>true</isBoss>
    <lifeStages>
      <li>
        <bodyGraphicData>
          <texPath>Things/Automatroid/DMSRC_Malevolence</texPath>
          <shaderType>CutoutComplex</shaderType>
          <graphicClass>Graphic_Multi</graphicClass>
          <drawSize>4</drawSize>
          <shadowData>
            <volume>(1.25,1,1.25)</volume>
            <offset>(0,0,-0.5)</offset>
          </shadowData>
        </bodyGraphicData>
      </li>
      <li>
        <bodyGraphicData>
          <texPath>Things/Automatroid/OldTexture/DMSRC_Malevolence</texPath>
          <shaderType>CutoutComplex</shaderType>
          <graphicClass>Graphic_Multi</graphicClass>
          <drawSize>4</drawSize>
          <shadowData>
            <volume>(1.25,1,1.25)</volume>
            <offset>(0,0,-0.5)</offset>
          </shadowData>
        </bodyGraphicData>
      </li>
    </lifeStages>
    <weaponTags/>
    <controlGroupPortraitZoom>0.6</controlGroupPortraitZoom>
    <weaponMoney>9999~9999</weaponMoney>
    <abilities>
      <li>DMSRC_MalevolenceCommand</li>
      <li>DMSRC_EmergencyBattery</li>
    </abilities>
  </PawnKindDef>

</Defs>