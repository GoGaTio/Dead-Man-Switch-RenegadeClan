<?xml version="1.0" encoding="utf-8"?>
<Defs>

  <!-- Kirpich -->
  <ThingDef ParentName="BaseAutomatroidRace">
    <defName>DMSRC_Mech_Kirpich</defName>
    <label>kirpich</label>
    <description>The modernized and redesigned bipedal walking tank based on the Tarbosaurus. This model is produced without the experimental electromagnetic armor allowing it to maintain greater mobility.</description>
    <statBases>
      <MoveSpeed>3.1</MoveSpeed>
      <ArmorRating_Blunt>0.9</ArmorRating_Blunt>
      <ArmorRating_Sharp>1.1</ArmorRating_Sharp>
      <ArmorRating_Heat>1.4</ArmorRating_Heat>
      <StaggerDurationFactor>0</StaggerDurationFactor>
      <BandwidthCost>4</BandwidthCost>
      <WastepacksPerRecharge>4</WastepacksPerRecharge>
    </statBases>
    <race>
      <body>DMSRC_Bipedal</body>
      <nameGenerator>DMS_VanguardMechHeavy</nameGenerator>
      <baseBodySize>2</baseBodySize>
      <baseHealthScale>2.75</baseHealthScale>
      <mechWeightClass>Heavy</mechWeightClass>
      <detritusLeavings>
        <li>
          <def>DMS_ChunkSlag</def>
          <texOverrideIndex>12</texOverrideIndex>
          <spawnChance>0.1</spawnChance>
        </li>
        <li>
          <def>DMS_ChunkSlag</def>
          <texOverrideIndex>13</texOverrideIndex>
          <spawnChance>0.1</spawnChance>
        </li>
      </detritusLeavings>
    </race>
    <comps>
      <li Class="DMSRC.CompProperties_ModuleNodes">
        <nodes>
          <li>
            <name>leftNode</name>
            <tags>
              <li>HeavyRegular</li>
              <li>MediumRegular</li>
              <li>HeavySide</li>
            </tags>
            <drawData>
              <dataEast>
                <offset>(0,0,-0.15)</offset>
                <layer>-20</layer>
              </dataEast>
              <dataWest>
                <offset>(0,0,-0.15)</offset>
                <layer>20</layer>
              </dataWest>
              <dataSouth>
                <offset>(0.5,0,-0.15)</offset>
              </dataSouth>
              <dataNorth>
                <offset>(-0.5,0,-0.15)</offset>
              </dataNorth>
            </drawData>
            <baseLayer>20</baseLayer>
          </li>
          <li>
            <name>rightNode</name>
            <tags>
              <li>HeavyRegular</li>
              <li>MediumRegular</li>
              <li>HeavySide</li>
            </tags>
            <drawData>
              <dataEast>
                <offset>(0,0,-0.15)</offset>
              </dataEast>
              <dataWest>
                <offset>(0,0,-0.15)</offset>
                <layer>-20</layer>
              </dataWest>
              <dataSouth>
                <offset>(-0.3,0,-0.15)</offset>
              </dataSouth>
              <dataNorth>
                <offset>(0.3,0,-0.15)</offset>
              </dataNorth>
            </drawData>
            <baseLayer>20</baseLayer>
          </li>
        </nodes>
      </li>
    </comps>
    <modExtensions>
      <li Class="Fortified.MechWeaponExtension">
        <EnableWeaponFilter>true</EnableWeaponFilter>
        <UsableWeaponTags>
          <li MayRequire="vanillaexpanded.vwehw">HeavyGun</li>
          <li>A_MG_GrenadeLauncher</li>
          <li>A_SR_GrenadeLauncher</li>
          <li>DMS_MechWeaponHeavy</li>
          <li>H_Gatling20mm</li>
          <li>V_Gatling556mm</li>
          <li>DMS_Gun_Recoilless</li>
        </UsableWeaponTags>
        <EnableTechLevelFilter>true</EnableTechLevelFilter>
        <UsableTechLevels>
          <li>Industrial</li>
        </UsableTechLevels>
        <BypassUsableWeapons/>
      </li>
    </modExtensions>
    <tools Inherit="False">
      <li>
        <label>Mechanical Head</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>32</power>
        <cooldownTime>5.5</cooldownTime>
        <linkedBodyPartsGroup>HeadAttackTool</linkedBodyPartsGroup>
        <ensureLinkedBodyPartsGroupAlwaysUsable>true</ensureLinkedBodyPartsGroupAlwaysUsable>
        <chanceFactor>0.08</chanceFactor>
        <surpriseAttack>
          <extraMeleeDamages>
            <li>
              <def>Stun</def>
              <amount>20</amount>
            </li>
          </extraMeleeDamages>
        </surpriseAttack>
      </li>
      <li>
        <label>Left Leg</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>21</power>
        <cooldownTime>3.5</cooldownTime>
        <linkedBodyPartsGroup>LeftMechanicalLeg</linkedBodyPartsGroup>
        <ensureLinkedBodyPartsGroupAlwaysUsable>true</ensureLinkedBodyPartsGroupAlwaysUsable>
        <chanceFactor>0.2</chanceFactor>
        <surpriseAttack>
          <extraMeleeDamages>
            <li>
              <def>Stun</def>
              <amount>16</amount>
            </li>
          </extraMeleeDamages>
        </surpriseAttack>
      </li>
      <li>
        <label>Right Leg</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>21</power>
        <cooldownTime>3.5</cooldownTime>
        <linkedBodyPartsGroup>RightMechanicalLeg</linkedBodyPartsGroup>
        <ensureLinkedBodyPartsGroupAlwaysUsable>true</ensureLinkedBodyPartsGroupAlwaysUsable>
        <chanceFactor>0.2</chanceFactor>
        <surpriseAttack>
          <extraMeleeDamages>
            <li>
              <def>Stun</def>
              <amount>16</amount>
            </li>
          </extraMeleeDamages>
        </surpriseAttack>
      </li>
    </tools>
    <butcherProducts>
      <DMS_ChunkSlag>3</DMS_ChunkSlag>
      <Steel>55</Steel>
    </butcherProducts>
  </ThingDef>

  <PawnKindDef ParentName="BaseAutomatroidKind">
    <defName>DMSRC_Mech_Kirpich</defName>
    <label>kirpich</label>
    <race>DMSRC_Mech_Kirpich</race>
    <isFighter>true</isFighter>
    <combatPower>300</combatPower>
    <maxPerGroup>7</maxPerGroup>
    <abilities>
      <li>DMS_RepairMode</li>
    </abilities>
    <lifeStages>
      <li>
        <bodyGraphicData>
          <texPath>Things/Automatroid/DMSRC_Kirpich</texPath>
          <shaderType>CutoutComplex</shaderType>
          <graphicClass>Graphic_Multi</graphicClass>
          <drawSize>2.5</drawSize>
          <shadowData>
            <volume>(1,1,1)</volume>
            <offset>(0,0,-0.25)</offset>
          </shadowData>
        </bodyGraphicData>
      </li>
      <li>
        <bodyGraphicData>
          <texPath>Things/Automatroid/OldTexture/DMSRC_Kirpich</texPath>
          <shaderType>CutoutComplex</shaderType>
          <graphicClass>Graphic_Multi</graphicClass>
          <drawSize>2.5</drawSize>
          <shadowData>
            <volume>(1,1,1)</volume>
            <offset>(0,0,-0.25)</offset>
          </shadowData>
        </bodyGraphicData>
      </li>
    </lifeStages>
    <weaponTags>
      <li>DMS_MechWeaponHeavy</li>
      <li>H_Gatling20mm</li>
      <li>DMS_VehicleWeapon</li>
      <li>H_Gatling127mm</li>
      <li>DMS_Gun_Recoilless</li>
    </weaponTags>
    <weaponMoney>3000~9999</weaponMoney>
    <controlGroupPortraitZoom>0.8</controlGroupPortraitZoom>
  </PawnKindDef>

  <!-- Shufladka -->
  <ThingDef ParentName="BaseAutomatroidRace">
    <defName>DMSRC_Mech_Shufladka</defName>
    <label>shufladka</label>
    <description>The modernized and redesigned bipedal walking tank based on the Tarbosaurus. This model is produced without the experimental electromagnetic armor allowing it to maintain greater mobility.</description>
    <statBases>
      <MoveSpeed>3.5</MoveSpeed>
      <ArmorRating_Blunt>1.1</ArmorRating_Blunt>
      <ArmorRating_Sharp>1.4</ArmorRating_Sharp>
      <ArmorRating_Heat>1.8</ArmorRating_Heat>
      <StaggerDurationFactor>0</StaggerDurationFactor>
      <BandwidthCost MayRequire="Ludeon.Rimworld.Biotech">4</BandwidthCost>
      <WastepacksPerRecharge MayRequire="Ludeon.Rimworld.Biotech">4</WastepacksPerRecharge>
    </statBases>
    <race>
      <body>DMSRC_BipedalWithTurret</body>
      <nameGenerator>DMS_VanguardMechHeavy</nameGenerator>
      <baseBodySize>2</baseBodySize>
      <baseHealthScale>2.75</baseHealthScale>
      <mechWeightClass>Heavy</mechWeightClass>
      <detritusLeavings>
        <li>
          <def>DMS_ChunkSlag</def>
          <texOverrideIndex>12</texOverrideIndex>
          <spawnChance>0.1</spawnChance>
        </li>
        <li>
          <def>DMS_ChunkSlag</def>
          <texOverrideIndex>13</texOverrideIndex>
          <spawnChance>0.1</spawnChance>
        </li>
      </detritusLeavings>
    </race>
    <comps>
      <li Class="Fortified.CompPropertiesMultipleTurretGun">
        <subTurrets>
          <li>
            <ID>machine gun</ID>
            <turret>DMS_SubMachineGunMounted</turret>
            <autoAttack>true</autoAttack>
            <warmingTime>3.2</warmingTime>
            <angleOffset>-90</angleOffset>
            <renderNodeProperties>
              <li>
                <nodeClass>Fortified.PawnRenderNode_SubTurretGun</nodeClass>
                <workerClass>Fortified.PawnRenderNodeWorker_SubTurretGun</workerClass>
                <parentTagDef>Body</parentTagDef>
                <drawSize>0.75</drawSize>
                <baseLayer>-21</baseLayer>
                <pawnType>Any</pawnType>
                <drawData>
                  <defaultData>
                    <pivot>(0.4,0.5)</pivot>
                  </defaultData>
                  <dataEast>
                    <offset>(0.85,0,-0.15)</offset>
                  </dataEast>
                  <dataWest>
                    <offset>(-0.85,0,-0.15)</offset>
                    <rotationOffset>180</rotationOffset>
                  </dataWest>
                  <dataSouth>
                    <offset>(0,0,-0.8)</offset>
                  </dataSouth>
                  <dataNorth>
                    <offset>(0,0,0)</offset>
                  </dataNorth>
                </drawData>
              </li>
            </renderNodeProperties>
          </li>
        </subTurrets>
      </li>
    </comps>
    <modExtensions>
      <li Class="Fortified.MechWeaponExtension">
        <EnableWeaponFilter>true</EnableWeaponFilter>
        <UsableWeaponTags>
          <li MayRequire="vanillaexpanded.vwehw">HeavyGun</li>
          <li>A_MG_GrenadeLauncher</li>
          <li>A_SR_GrenadeLauncher</li>
          <li>DMS_MechWeaponHeavy</li>
          <li>H_Gatling20mm</li>
          <li>V_Gatling556mm</li>
          <li>DMS_Gun_Recoilless</li>
        </UsableWeaponTags>
        <EnableTechLevelFilter>true</EnableTechLevelFilter>
        <UsableTechLevels>
          <li>Industrial</li>
        </UsableTechLevels>
        <BypassUsableWeapons/>
      </li>
    </modExtensions>
    <!--need new melee tools based on their legs, not arms(those "arms" are supporting mechnical arms)-->
    <tools Inherit="False">
      <li>
        <label>Mechanical Head</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>32</power>
        <cooldownTime>5.5</cooldownTime>
        <linkedBodyPartsGroup>HeadAttackTool</linkedBodyPartsGroup>
        <ensureLinkedBodyPartsGroupAlwaysUsable>true</ensureLinkedBodyPartsGroupAlwaysUsable>
        <chanceFactor>0.08</chanceFactor>
        <surpriseAttack>
          <extraMeleeDamages>
            <li>
              <def>Stun</def>
              <amount>20</amount>
            </li>
          </extraMeleeDamages>
        </surpriseAttack>
      </li>
      <li>
        <label>Left Leg</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>21</power>
        <cooldownTime>3.5</cooldownTime>
        <linkedBodyPartsGroup>LeftMechanicalLeg</linkedBodyPartsGroup>
        <ensureLinkedBodyPartsGroupAlwaysUsable>true</ensureLinkedBodyPartsGroupAlwaysUsable>
        <chanceFactor>0.2</chanceFactor>
        <surpriseAttack>
          <extraMeleeDamages>
            <li>
              <def>Stun</def>
              <amount>16</amount>
            </li>
          </extraMeleeDamages>
        </surpriseAttack>
      </li>
      <li>
        <label>Right Leg</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>21</power>
        <cooldownTime>3.5</cooldownTime>
        <linkedBodyPartsGroup>RightMechanicalLeg</linkedBodyPartsGroup>
        <ensureLinkedBodyPartsGroupAlwaysUsable>true</ensureLinkedBodyPartsGroupAlwaysUsable>
        <chanceFactor>0.2</chanceFactor>
        <surpriseAttack>
          <extraMeleeDamages>
            <li>
              <def>Stun</def>
              <amount>16</amount>
            </li>
          </extraMeleeDamages>
        </surpriseAttack>
      </li>
    </tools>
    <butcherProducts>
      <DMS_ChunkSlag>3</DMS_ChunkSlag>
      <Steel>55</Steel>
    </butcherProducts>
  </ThingDef>

  <PawnKindDef ParentName="BaseAutomatroidKind">
    <defName>DMSRC_Mech_Shufladka</defName>
    <label>shufladka</label>
    <race>DMSRC_Mech_Shufladka</race>
    <isFighter>true</isFighter>
    <combatPower>300</combatPower>
    <maxPerGroup>7</maxPerGroup>
    <abilities>
      <li>DMS_RepairMode</li>
    </abilities>
    <lifeStages>
      <li>
        <bodyGraphicData>
          <texPath>Things/Automatroid/DMSRC_Shufladka</texPath>
          <shaderType>CutoutComplex</shaderType>
          <graphicClass>Graphic_Multi</graphicClass>
          <drawSize>2.5</drawSize>
          <shadowData>
            <volume>(1,1,1)</volume>
            <offset>(0,0,-0.25)</offset>
          </shadowData>
        </bodyGraphicData>
      </li>
      <li>
        <bodyGraphicData>
          <texPath>Things/Automatroid/OldTexture/DMSRC_Shufladka</texPath>
          <shaderType>CutoutComplex</shaderType>
          <graphicClass>Graphic_Multi</graphicClass>
          <drawSize>2.5</drawSize>
          <shadowData>
            <volume>(1,1,1)</volume>
            <offset>(0,0,-0.25)</offset>
          </shadowData>
        </bodyGraphicData>
      </li>
    </lifeStages>
    <weaponTags>
      <li>DMS_MechWeaponHeavy</li>
      <li>H_Gatling20mm</li>
      <li>DMS_VehicleWeapon</li>
      <li>H_Gatling127mm</li>
      <li>DMS_Gun_Recoilless</li>
    </weaponTags>
    <weaponMoney>3000~9999</weaponMoney>
    <controlGroupPortraitZoom>0.8</controlGroupPortraitZoom>
  </PawnKindDef>

</Defs>